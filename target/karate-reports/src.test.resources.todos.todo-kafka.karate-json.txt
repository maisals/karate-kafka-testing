{"failedCount":0,"prefixedPath":"src\/test\/resources\/todos\/todo-kafka.feature","packageQualifiedName":"src.test.resources.todos.todo-kafka","loopIndex":-1,"relativePath":"src\/test\/resources\/todos\/todo-kafka.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":55727625,"millis":55.727625,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def Config = Java.type('com.example.karate.config.KarateConfig')"}},{"result":{"nanos":127228208,"millis":127.228208,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"karate.callSingle('classpath:common\/server-setup.feature')"},"stepLog":"16:24:01.930 << lock released, cached callSingle: classpath:common\/server-setup.feature\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:common\/server-setup.feature","packageQualifiedName":"common.server-setup","loopIndex":-1,"relativePath":"common\/server-setup.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":609166,"millis":0.609166,"status":"passed"},"step":{"line":5,"prefix":"*","index":0,"text":"def Config = Java.type('com.example.karate.config.KarateConfig')"},"stepLog":"16:24:01.820 >> lock acquired, begin callSingle: classpath:common\/server-setup.feature\n"},{"result":{"nanos":1438000,"millis":1.438,"status":"passed"},"step":{"line":6,"prefix":"*","index":1,"text":"def kafkaBootstrap = Config.getKafkaBootstrap()"}},{"result":{"nanos":512459,"millis":0.512459,"status":"passed"},"step":{"line":7,"prefix":"*","index":2,"text":"def kafkaTopic = Config.getKafkaTopic()"}},{"result":{"nanos":1275583,"millis":1.275583,"status":"passed"},"step":{"line":8,"prefix":"*","index":3,"text":"def port = Config.getApiPort()"}},{"result":{"nanos":2182375,"millis":2.182375,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def TodoMockServer = Java.type('com.mock.TodoMockServer')"}},{"result":{"nanos":17823583,"millis":17.823583,"status":"passed"},"step":{"line":10,"prefix":"*","index":5,"text":"def server = new TodoMockServer(port, kafkaBootstrap, kafkaTopic)"}},{"result":{"nanos":80828417,"millis":80.828417,"status":"passed"},"step":{"line":11,"prefix":"*","index":6,"text":"server.start()"}}],"line":4,"description":"","durationMillis":104.669583,"failed":false,"tags":["ignore"],"executorName":"com.intuit.karate.cli.Main.main()","name":"Start todo server","startTime":1761492241824,"refId":"[1:4]","endTime":1761492241929,"exampleIndex":-1}],"callDepth":1,"name":"Mock Server Setup","description":"","resultDate":"2025-10-26 04:24:06 PM","durationMillis":104.669583,"passedCount":1}]},{"result":{"nanos":1581042,"millis":1.581042,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def kafkaConsumer = Java.type('com.example.karate.helpers.KafkaConsumerHelper')"}},{"result":{"nanos":238750,"millis":0.23875,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def kafkaBootstrap = Config.getKafkaBootstrap()"}},{"result":{"nanos":256167,"millis":0.256167,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def kafkaTopic = Config.getKafkaTopic()"}},{"result":{"nanos":505125,"millis":0.505125,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"def kafkaTimeout = Config.getKafkaTimeout()"}},{"result":{"nanos":325542,"millis":0.325542,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"url Config.getApiUrl()"}},{"result":{"nanos":163083,"millis":0.163083,"status":"passed"},"step":{"line":13,"prefix":"Given","index":0,"text":"path 'todos'"}},{"result":{"nanos":143875,"millis":0.143875,"status":"passed"},"step":{"line":14,"prefix":"And","index":1,"text":"request 'First'"}},{"result":{"nanos":530172625,"millis":530.172625,"status":"passed"},"step":{"line":15,"prefix":"When","index":2,"text":"method Post"},"stepLog":"16:24:02.072 request:\n1 > POST http:\/\/localhost:8080\/todos\n1 > Content-Type: text\/plain; charset=UTF-8\n1 > Content-Length: 5\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\nFirst\n\n16:24:02.459 response time in milliseconds: 385\n1 < 200\n1 < Date: Sun, 26 Oct 2025 15:24:02 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Server: Jetty(9.4.48.v20220622)\n{\"id\":\"631a7015-9ff7-4353-a258-a343450be035\",\"title\":\"First\",\"complete\":false}\n\n"},{"result":{"nanos":13875,"millis":0.013875,"status":"passed"},"step":{"line":16,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":20443375,"millis":20.443375,"status":"passed"},"step":{"line":17,"prefix":"*","index":4,"text":"match response == { id: '#string', title: 'First', complete: false }"}},{"result":{"nanos":736917,"millis":0.736917,"status":"passed"},"step":{"line":18,"prefix":"*","index":5,"text":"def firstId = response.id"}},{"result":{"nanos":6535167,"millis":6.535167,"status":"passed"},"step":{"comments":["# Newly created todo by id"],"line":21,"prefix":"Given","index":6,"text":"path 'todos\/' + firstId"}},{"result":{"nanos":3123542,"millis":3.123542,"status":"passed"},"step":{"line":22,"prefix":"When","index":7,"text":"method Get"},"stepLog":"16:24:02.495 request:\n2 > GET http:\/\/localhost:8080\/todos\/631a7015-9ff7-4353-a258-a343450be035\n2 > Host: localhost:8080\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n2 > Accept-Encoding: gzip,deflate\n\n\n16:24:02.497 response time in milliseconds: 2\n2 < 200\n2 < Date: Sun, 26 Oct 2025 15:24:02 GMT\n2 < Content-Type: application\/json\n2 < Transfer-Encoding: chunked\n2 < Server: Jetty(9.4.48.v20220622)\n{\"id\":\"631a7015-9ff7-4353-a258-a343450be035\",\"title\":\"First\",\"complete\":false}\n\n"},{"result":{"nanos":4375,"millis":0.004375,"status":"passed"},"step":{"line":23,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":752000,"millis":0.752,"status":"passed"},"step":{"line":24,"prefix":"*","index":9,"text":"match response == { id: '#(firstId)', title: 'First', complete: false }"}},{"result":{"nanos":133750,"millis":0.13375,"status":"passed"},"step":{"comments":["# Get all todos and verify that the newly created todo is in the list"],"line":27,"prefix":"Given","index":10,"text":"path 'todos'"}},{"result":{"nanos":2990417,"millis":2.990417,"status":"passed"},"step":{"line":28,"prefix":"When","index":11,"text":"method Get"},"stepLog":"16:24:02.499 request:\n3 > GET http:\/\/localhost:8080\/todos\n3 > Host: localhost:8080\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n3 > Accept-Encoding: gzip,deflate\n\n\n16:24:02.501 response time in milliseconds: 2\n3 < 200\n3 < Date: Sun, 26 Oct 2025 15:24:02 GMT\n3 < Content-Type: application\/json\n3 < Transfer-Encoding: chunked\n3 < Server: Jetty(9.4.48.v20220622)\n[{\"id\":\"631a7015-9ff7-4353-a258-a343450be035\",\"title\":\"First\",\"complete\":false}]\n\n"},{"result":{"nanos":7583,"millis":0.007583,"status":"passed"},"step":{"line":29,"prefix":"Then","index":12,"text":"status 200"}},{"result":{"nanos":1085750,"millis":1.08575,"status":"passed"},"step":{"line":30,"prefix":"*","index":13,"text":"match response contains [{ id: '#(firstId)', title: 'First', complete: false }]"}},{"result":{"nanos":48334,"millis":0.048334,"status":"passed"},"step":{"comments":["# Create second todo"],"line":33,"prefix":"Given","index":14,"text":"path 'todos'"}},{"result":{"nanos":238584,"millis":0.238584,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request 'Second'"}},{"result":{"nanos":27848375,"millis":27.848375,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method Post"},"stepLog":"16:24:02.504 request:\n4 > POST http:\/\/localhost:8080\/todos\n4 > Content-Type: text\/plain; charset=UTF-8\n4 > Content-Length: 6\n4 > Host: localhost:8080\n4 > Connection: Keep-Alive\n4 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n4 > Accept-Encoding: gzip,deflate\nSecond\n\n16:24:02.531 response time in milliseconds: 26\n4 < 200\n4 < Date: Sun, 26 Oct 2025 15:24:02 GMT\n4 < Content-Type: application\/json\n4 < Transfer-Encoding: chunked\n4 < Server: Jetty(9.4.48.v20220622)\n{\"id\":\"bdee6fb0-eaed-48ac-87cd-41953b8744a8\",\"title\":\"Second\",\"complete\":false}\n\n"},{"result":{"nanos":7875,"millis":0.007875,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":201792,"millis":0.201792,"status":"passed"},"step":{"line":37,"prefix":"*","index":18,"text":"match response == { id: '#string', title: 'Second', complete: false }"}},{"result":{"nanos":293959,"millis":0.293959,"status":"passed"},"step":{"line":38,"prefix":"*","index":19,"text":"def secondId = response.id"}},{"result":{"nanos":45583,"millis":0.045583,"status":"passed"},"step":{"comments":["# Get all todos and verify that both the newly created ids are present"],"line":41,"prefix":"Given","index":20,"text":"path 'todos'"}},{"result":{"nanos":3784541,"millis":3.784541,"status":"passed"},"step":{"line":42,"prefix":"When","index":21,"text":"method Get"},"stepLog":"16:24:02.533 request:\n5 > GET http:\/\/localhost:8080\/todos\n5 > Host: localhost:8080\n5 > Connection: Keep-Alive\n5 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n5 > Accept-Encoding: gzip,deflate\n\n\n16:24:02.535 response time in milliseconds: 2\n5 < 200\n5 < Date: Sun, 26 Oct 2025 15:24:02 GMT\n5 < Content-Type: application\/json\n5 < Transfer-Encoding: chunked\n5 < Server: Jetty(9.4.48.v20220622)\n[{\"id\":\"631a7015-9ff7-4353-a258-a343450be035\",\"title\":\"First\",\"complete\":false},{\"id\":\"bdee6fb0-eaed-48ac-87cd-41953b8744a8\",\"title\":\"Second\",\"complete\":false}]\n\n"},{"result":{"nanos":7084,"millis":0.007084,"status":"passed"},"step":{"line":43,"prefix":"Then","index":22,"text":"status 200"}},{"result":{"nanos":833041,"millis":0.833041,"status":"passed"},"step":{"line":44,"prefix":"*","index":23,"text":"match response contains [{ id: '#(firstId)', title: 'First', complete: false },{ id: '#(secondId)', title: 'Second', complete: false }]"}}],"executorName":"com.intuit.karate.cli.Main.main()","line":12,"name":"Simple crud flow","description":"","durationMillis":785.477961,"startTime":1761492241747,"failed":false,"refId":"[1:12]","endTime":1761492242536,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":513625,"millis":0.513625,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def Config = Java.type('com.example.karate.config.KarateConfig')"}},{"result":{"nanos":412333,"millis":0.412333,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"karate.callSingle('classpath:common\/server-setup.feature')"}},{"result":{"nanos":305334,"millis":0.305334,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def kafkaConsumer = Java.type('com.example.karate.helpers.KafkaConsumerHelper')"}},{"result":{"nanos":429000,"millis":0.429,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def kafkaBootstrap = Config.getKafkaBootstrap()"}},{"result":{"nanos":257625,"millis":0.257625,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def kafkaTopic = Config.getKafkaTopic()"}},{"result":{"nanos":248916,"millis":0.248916,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"def kafkaTimeout = Config.getKafkaTimeout()"}},{"result":{"nanos":466667,"millis":0.466667,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"url Config.getApiUrl()"}},{"result":{"nanos":42291,"millis":0.042291,"status":"passed"},"step":{"line":48,"prefix":"Given","index":0,"text":"path 'todos'"}},{"result":{"nanos":137916,"millis":0.137916,"status":"passed"},"step":{"line":49,"prefix":"And","index":1,"text":"request 'ValidateMessage'"}},{"result":{"nanos":18412833,"millis":18.412833,"status":"passed"},"step":{"line":50,"prefix":"When","index":2,"text":"method Post"},"stepLog":"16:24:02.543 request:\n1 > POST http:\/\/localhost:8080\/todos\n1 > Content-Type: text\/plain; charset=UTF-8\n1 > Content-Length: 15\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\nValidateMessage\n\n16:24:02.561 response time in milliseconds: 17\n1 < 200\n1 < Date: Sun, 26 Oct 2025 15:24:02 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Server: Jetty(9.4.48.v20220622)\n{\"id\":\"d344ee44-a02f-42a6-bb4d-e47aa4c08174\",\"title\":\"ValidateMessage\",\"complete\":false}\n\n"},{"result":{"nanos":8042,"millis":0.008042,"status":"passed"},"step":{"line":51,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":3635797625,"millis":3635.797625,"status":"passed"},"step":{"line":52,"prefix":"*","index":4,"text":"def messages = kafkaConsumer.consumeMessages(kafkaBootstrap, kafkaTopic, kafkaTimeout)"}},{"result":{"nanos":14907792,"millis":14.907792,"status":"passed"},"step":{"line":53,"prefix":"*","index":5,"text":"def messagesParsed = karate.map(messages, function(msg){ return JSON.parse(msg) })"}},{"result":{"nanos":1511959,"millis":1.511959,"status":"passed"},"step":{"line":54,"prefix":"*","index":6,"text":"match messagesParsed[*] contains { id: '#(response.id)', title: 'ValidateMessage', complete: false }"}}],"executorName":"com.intuit.karate.cli.Main.main()","line":47,"name":"Kafka event validation","description":"","durationMillis":3673.451958,"startTime":1761492242540,"failed":false,"refId":"[2:47]","endTime":1761492246214,"exampleIndex":-1}],"callDepth":0,"name":"CRUD flow with Kafka integration","description":"","resultDate":"2025-10-26 04:24:06 PM","durationMillis":4458.929919,"passedCount":2}